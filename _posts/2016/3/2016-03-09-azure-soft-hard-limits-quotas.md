---
title:  Azure soft & hard limits & quotas
date:  2016-03-09 08:48:54 -05:00
permalink:  "/2016/03/09/azure-soft-hard-limits-quotas/"
categories:
- Solution
tags:  []
---
<p>One of the big difference between on premise and public cloud is the fact that a public cloud is a multi-tenant environment backed by SLAs.&nbsp; That sounds trivial right?</p> <p>But think about it for a minute.&nbsp; In order to implement an SLA, you need to enforce limits &amp; quotas.&nbsp; It’s the good old “you can’t rob Peter to pay John”.&nbsp; In terms of cloud resources, it could be:&nbsp; “you can’t let Peter’s VM consume all the bandwidth and still guarantees John’s VM to have a given bandwidth”.</p> <p><a href="assets/2016/3/azure-soft-hard-limits-quotas/speedlimit.jpg"><img title="SpeedLimit" style="border-top:0;border-right:0;background-image:none;border-bottom:0;padding-top:0;padding-left:0;border-left:0;display:inline;padding-right:0;" border="0" alt="SpeedLimit" src="assets/2016/3/azure-soft-hard-limits-quotas/speedlimit_thumb.jpg" width="640" height="427"/></a></p> <p>On premise, you’ll do things like overprovision CPUs &amp; RAM because <em>you know </em>they aren’t going to all use it at the same time.&nbsp; Because you don’t know:&nbsp; each VM belongs to a different tenant and tenant A doesn’t want to see the lights dim because tenant B is having a party.</p> <p>So…&nbsp; in order to have SLAs, you need to impose limits &amp; quotas.</p> <p>In Azure, they are well documented at <a href="http://aka.ms/azurelimits">http://aka.ms/azurelimits</a>.</p> <p>Now there are two types of limits:&nbsp; hard ones &amp; soft ones.&nbsp; Hard ones you can’t change.&nbsp; Soft ones you can request Microsoft to change the limit for your subscription.</p> <p>Hard ones typically comes from a limitation in the architecture.&nbsp; Those often are scaling units.&nbsp; For instance, you have a maximum of 500 TB per storage account.&nbsp; This is a hard limit.&nbsp; This is just the way the storage service is architected.</p> <p>Soft ones are there for multiple reasons.&nbsp; The main ones:</p> <ul> <li>Protect you from provisioning too many resources and collecting a huge bill at the end of the month</li> <li>Controlling the provisioning in each Azure region</li></ul> <p>So for instance, by default you can only create 5 DocumentDB accounts in one subscription.&nbsp; If you want more than that, just contact Azure support and they’ll raise it for you.</p> <p>&nbsp;</p> <p>Now when you do architect a solution in Microsoft Azure you do need to be cognizant of those limits.&nbsp; Easy, just consult <a href="http://aka.ms/azurelimits">http://aka.ms/azurelimits</a>.</p> <p>If you don’t, you’ll have surprises.</p> <p>A classic is putting all your VHDs in the same storage account.&nbsp; One VM, two VM, cool.&nbsp; 50 VMs?&nbsp; Hum…&nbsp; a storage account has IO limits:&nbsp; 20 000 IOPS.&nbsp; So when you plan your VMs, plan the target IOPS and shard the VHDs into different storage accounts accordingly.</p> <p>This goes for every single service in Azure.&nbsp; Most of those limits typically do not influence pricing, so beside a few ones, I tend to work this level of details once a project passes off the first gates where pricing is most important.</p> <p>Limits to consider in pricing?&nbsp; Performance.&nbsp; You want more IOPS on a machine, you want less latency?&nbsp; Consider Premium storage disks.&nbsp; As its name suggest, the premium storage isn’t the same price as standard storage.</p> <p>&nbsp;</p> <p>So consider those when you start a project.</p>