---
title:  Applied SOA: Part 4 – Service Taxonomy
date:  2011-12-09 20:27:00 -05:00
permalink:  "/2011/12/09/applied-soa-part-4-service-taxonomy/"
categories:
- Solution
tags:
- API
---
<p>This is part of a series of blog post about Applied SOA. The past blog entries are:</p>  <ul>   <li><a href="http://vincentlauzon.wordpress.com/2011/06/17/applied-soa-part-1-introduction/">Introduction</a> </li>    <li><a title="Preview “Applied SOA- Part 2 – SOA Basics”" href="http://vincentlauzon.wordpress.com/2011/11/27/applied-soa-part-2-soa-basics/">SOA Basics</a> </li>    <li><a href="http://vincentlauzon.wordpress.com/2011/11/29/applied-soa-part-3-service-discovery-process/">Service Discovery Process</a> </li> </ul>  <p>In this article, I’ll cover the Service Taxonomy.&#160; On an SOA project, we’re going to have services.&#160; How should we classify them?</p>  <p>First why would we want to categorise them?</p>  <p>First, to give a structure to the solution.&#160; Without structure, it’s hard to govern an important number of elements, especially if those elements are services.</p>  <p>Second, at the architecture level, we can give rules for categories as opposed to individual services.&#160; Again, this is structure, we can manage fewer pieces.</p>  <p>Third, at the design level the taxonomy will help us clarifying the boundaries of a service.&#160; At the end of the day, there are two extremes:&#160; either you have one service with all the operation of your company in it or a lot of services with one operation each.&#160; A service is just a container and unless you have some clear taxonomy, which operation belongs to which service can be a matter of taste and individual preferences, which seldom yields strong design decisions.</p>  <p>Finally, it gives us the ability to reason about the structure at a higher level without getting cut in the intricacy of specific services.</p>  <p>There are many ways to categorise services.&#160; A popular one was defined by <a href="http://thomaserl.com/">Tomas Erl</a> in his book <a href="http://www.amazon.com/Design-Patterns-Prentice-Service-Oriented-Computing/dp/0136135161/ref=pd_sim_b_1">SOA Design Patterns</a>.&#160; That taxonomy is based on a few patterns exposed in that book.&#160; Each pattern invokes separation of concerns in order to define a service layer.&#160; Two axis are used for the separation of concern:</p>  <ul>   <li>Agnosticism to business context </li>    <li>Business Logic </li> </ul>  <p>A component is said to be agnostic to the business context if it can be invoked from any business process and behave identically.&#160; A component is said to be business logic specific if it contains business logic.</p>  <p>Nevertheless, this taxonomy is useful.&#160; It defines three layers:</p>  <ul>   <li><strong>Utility Layer</strong>, agnostic of both business context and business logic.&#160; On this layer exist services manipulating information without applying business logic on it or varying depending on the business context.&#160; Typically those services offer communication capability:&#160; emails, pub-sub, mapping, etc.&#160; . </li>    <li><strong>Entity Layer</strong>, agnostic of the business context but implementing business logic.&#160; Services in this layer are typically data centric. </li>    <li><strong>Task Layer</strong>, business context sensitive and implementing business logic.&#160; Services at this layer typically participate in the activities of a specific business process. </li> </ul>  <p>Reusability is maximal at the Utility Layer and minimal at the Task Layer.&#160; At the Task Layer, a service is specific to a business process (context) and can’t be reused elsewhere.</p>  <p>Business Logic increases as we go to the Task Layer.</p>  <p>Composition is done for the Task Layer to the Entity and to the Utility layer.&#160; By composition I mean that a service from one layer can call a service from another one.&#160; This is probably the strongest property of this taxonomy:&#160; the composition rule is deduced from the definition of the taxonomy as opposed to imposed as another principle.</p>  <p>For example, a service at the Entity Layer, by definition, can be called from any business process.&#160; It cannot, therefore, call a service at the Task Layer, being specific to only one business process.</p>  <p>I’ve used this taxonomy in the architecture of a sizable SOA project.&#160; It worked well in terms of given structure and was quite resilient to changes along the project (e.g. security requirements, multiple consumers, etc.).</p>  <p>Something we did to enrich the taxonomy was to further subdivide each layer per domain.&#160; A domain being an information / process breakdown.&#160; Given those subdivisions, each service could only be within one layer and serving one domain within that layer.&#160; That gave a very strong &amp; clear service boundary definition.</p>  <p>Now the weakness of the taxonomy, we’ve found, is the vagueness of the definition of agnosticism to business context &amp; business logic.&#160; It sounds great on paper, but my service designer team, composed of brilliant and seasoned designers, spent the project having philosophical discussions about what is and what isn’t business context agnostic.&#160; It boiled down to the fact that an operation being or not aware of the business context isn’t always clear.</p>  <p>On smaller project I’ve seen a taxonomy based only on data domains, hence having only an entity layer.&#160; This simplifies the clustering of services as data domains are typically quite clear.&#160; It does mix the concerns of process centric &amp; data centric capabilities though.</p>