---
title: 'Applied SOA: Part 3 – Service Discovery Process'
date: 2011-11-29 18:33:00 -05:00
permalink: /2011/11/29/applied-soa-part-3-service-discovery-process/
categories:
- Solution
tags:
- API
---
<p>This is part of a series of blog post about Applied SOA. The past blog entries are:</p>  <ul>   <li><a href="http://vincentlauzon.wordpress.com/2011/06/17/applied-soa-part-1-introduction/">Introduction</a> </li>    <li><a title="Preview “Applied SOA- Part 2 – SOA Basics”" href="http://vincentlauzon.wordpress.com/2011/11/27/applied-soa-part-2-soa-basics/">SOA Basics</a> </li> </ul>  <p>In this article, I’ll cover the Service Discovery Process.&#160; You’re working on an SOA project.&#160; There’s going to be services.&#160; What are those services?</p>  <p>That sounds like a trivial questions but it’s actually quite fundamental.&#160; There are two extreme approaches I know about.</p>  <p>The first approach, also called “bottom-up”, basically consists at looking at what applications needs and trying to generalize it to the Enterprise level.&#160; This approach is actually quite popular because most SOA efforts start with one project, a new application, and therefore it is quite natural to look at that application to decide what you want to expose in your Enterprise at large.</p>  <p>Now that approach is application centric by nature.&#160; Your viewpoint is the tree (the application) not the forest (the entire Enterprise).&#160; So yes, you can guess from this new HR system you’re deploying that having an employee service is a good idea, but what type of employee schema makes sense at the Enterprise level (cross applications) and which operations would make sense to be exposed at the Enterprise level?&#160; The application won’t tell you that.&#160; You can speculate, everyone around the table will have a different idea.</p>  <p>That approach is quite good at picking reusable ‘utility’ services, e.g. Enterprise Login, Pub / Sub, Transformation Service, Communication, etc.&#160; .&#160; You can often pick some data services that would make sense at the Enterprise level too.&#160; It is wise to go easy on those one and deploy a minimalist version 1 so that you have elbow room to take more decisions by the time you connect other applications on it.</p>  <p>It is quite rare that you raise to Business Processes using this approach and if you do you’ll have the application’s view of a Business Process.</p>  <p>Now let’s look at what some SOA gurus think of this approach.&#160; Philip Wik, in an <a href="http://soamag.com">SOA Magazine</a>&#160;<a href="http://soamag.com/I38/0410-1.php">article</a> mentions:</p>  <blockquote>   <p>But, as a question of architecture and strategy, a populist approach is like <strong>building a new house around its appliances</strong>. A bottom-up approach <strong>introduces needless complexities into already complex systems</strong> that are at cross purposes with the company’s umbrella strategy. </p> </blockquote>  <p>(emphasis mine)</p>  <p><a href="http://thomaserl.com/">Thomas Erl</a>, in one of his books (<a href="http://www.amazon.com/Service-Oriented-Architecture-SOA-Concepts-Technology/dp/0131858580/ref=sr_1_1?ie=UTF8&amp;qid=1322336748&amp;sr=8-1">SOA Concepts, Technology, and Design</a>, 2005), says:</p>  <blockquote>   <p>The <strong>bottom-up strategy is really not a strategy</strong> at all nor is it a valid approach in achieving contemporary SOA. [...] Although the bottom-up design allows for the <strong>efficient creation of Web services</strong> as required by applications, implementing a proper SOA at a later point can result in a <strong>great deal of retro-fitting</strong> or even the introduction of new standardized service layers positioned over the top of the non-standardized services produced by this approach.</p> </blockquote>  <p>(emphasis mine)</p>  <p>Not such a popular approach in the SOA circle as we can see.&#160; Why is it so popular then?&#160; Well, let’s look at the other extreme approach, also called the “Top Down” approach.&#160; This approach starts with the Enterprise business process and identifies each activity that should be implemented by a service.</p>  <p>For instance, let’s take my company (fictitious, I made it up) on boarding process.&#160; This process is represented using <a href="http://en.wikipedia.org/wiki/BPMN">Business Process Notation</a> (BPMN). It represents the process and is entirely agnostic of the systems &amp; technologies.</p>  <p><a href="/assets/2011/11/applied-soa-part-3-service-discovery-process/image2.png"><img style="background-image:none;padding-left:0;padding-right:0;display:inline;padding-top:0;border-width:0;" title="image" border="0" alt="image" src="/assets/2011/11/applied-soa-part-3-service-discovery-process/image_thumb2.png" width="708" height="326" /></a></p>  <p>Each task (square) in this diagram becomes a potential service operation.&#160; This approach is of course task-centric and doesn’t give a very good view on the data.</p>  <p>Why approach is better?&#160; Well, guess what, it depends!</p>  <p>The first approach is easy but doesn’t capture Enterprise needs.&#160; The second approach is less trivial (you’ll need to speak to a lot of departments to get your head around a process sometimes) but captures the Enterprise needs with no noise about the technology.</p>  <p>Typically, the two approaches should be used together and <strong>meet in the middle</strong>.&#160; On one hand you analyse the Enterprise Business Process, on the other hand, you analyse services from different systems.&#160; When you identify services with both approaches, you probably have a good candidate for promotion to Enterprise Service while improving your chances of reuse.&#160; You can still piggy back your first big project involving services which tends to happen anyway.</p>  <p>What I often see is a bottom-up approach with some Enterprise inputs, such as an Enterprise Data Model and some Enterprise business rules.&#160; This typically leads to Data Services centered around key Enterprise concepts exposing Enterprise Data.&#160; It’s not the full-blown SOA promise, but it’s a good foundation for future SOA projects:&#160; you need to start knocking down data silos before orchestrating cross-business-units process.</p>